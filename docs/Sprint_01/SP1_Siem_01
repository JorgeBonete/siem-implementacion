
### SPRINT 1: TAREA 01 - Configuraci√≥n Inicial de Red, Nombres de Host y DNS 

    El Sprint 1 se enfocara en establecer una infraestructura de red s√≥lida, configurar servicios esenciales y aplicar medidas de hardening b√°sicas, pero necesarias en las m√°quinas virtuales (VMs) que alojar√°n los componentes del SIEM. 

# Fecha de Completado del Sprint 1: 03 de Julio de 2025 üóìÔ∏è

Detalles de las M√°quinas Virtuales Provisionadas (Arquitectura de 2 Nodos): 
A continuaci√≥n, se listan las especificaciones de red para cada una de las VMs que se utilizar√°n en el proyecto:

# VM1 (Rol: Wazuh Manager)
        * Nombre de Host (Hostname):  "nodo-coordinadorwz.dominio.com.ec"
        * Direcci√≥n IP:  "192.168.1.10"
    
# VM2 (Rol: Wazuh Indexer & Dashboard)
        * Nombre de Host (Hostname):  "nodo-datoswz.dominio.com.ec"
        * Direcci√≥n IP:  "192.168.1.20"

‚ú®----------------------------------------------------------------------------------------------------‚ú®

### Pasos de Configuraci√≥n: ‚öôÔ∏è
## Paso 1: Configuraci√≥n de Hostnames y FQDN üñ•Ô∏è
    Se estableci√≥ el nombre de host de cada m√°quina y su FQDN (Fully Qualified Domain Name).

    1. Establecer el hostname est√°tico: (VM1)
        üíª # bash
            [admin@nodo-coordinadorwz ~]$ sudo hostnamectl set-hostname nodo-coordinadorwz.dominio.com.ec

    2. Establecer el hostname est√°tico: (VM2)
        üíª # bash
            [admin@nodo-coordinadorwz ~]$ sudo hostnamectl set-hostname nodo-datoswz.dominio.com.ec

‚ú®----------------------------------------------------------------------------------------------------‚ú®

## Paso 2: Configuraci√≥n de /etc/hosts y /etc/resolv.conf üåê
    Se configuraron estos archivos en ambas VMs para asegurar la resoluci√≥n de nombres interna (sin depender de un servidor DNS) y la configuraci√≥n del servidor DNS primario de la red.

    1. Editar el archivo /etc/hosts para a√±adir las entradas de resoluci√≥n de nombres locales:
        üíª # bash (VM1 y VM2)
            [admin@nodo-coordinadorwz ~]$ sudo nano /etc/hosts
                192.168.1.10 nodo-coordinadorwz.dominio.com.ec nodo-coordinadorwz
                192.168.1.20 nodo-datoswz.dominio.com.ec nodo-datoswz

    2. Pruebas para validar resoluci√≥n de nombres locales (hosts)
        üíª Desde VM1 y VM2:
                    
                üíª # bash (VM 1 como root)
                    ping -c 2 nodo-coordinadorwz
                    ping -c 2 nodo-coordinadorwz.dominio.com.ec
                    ping -c 2 nodo-datoswz
                    ping -c 2 nodo-datosws.dominio.com.ec

                    getent hosts nodo-coordinadorwz
                    getent hosts nodo-datoswz
                    getent hosts nodo-datosws.dominio.com.ec
                    
                üíª # bash (VM 2 como root)
                    ping -c 2 nodo-datoswz
                    ping -c 2 nodo-datosws.dominio.com.ec
                    ping -c 2 nodo-coordinadorwz
                    ping -c 2 nodo-coordinadorwz.dominio.com.ec

                    getent hosts nodo-datoswz
                    getent hosts nodo-coordinadorwz
                    getent hosts nodo-coordinadorwz.dominio.com.ec

‚ú®----------------------------------------------------------------------------------------------------‚ú®

## Paso 3: Sincronizaci√≥n horaria entre VM's
    Es un servicio de sincronizaci√≥n de hora que mantiene el reloj de los servidores alineados con la hora oficial usando el protocolo NTP (Network Time Protocol).
    Importante en el SIEM debido a la correlaci√≥n de eventos, e investigaci√≥n forense que tienen que tener hora exacta de la investigaci√≥n de eventos.

                üíª Desde VM1, VM2 (como root)
                    sudo dnf install chrony -y
                    sudo systemctl enable --now chronyd
                    sudo chronyc sources
                    sudo chronyc tracking
                    sudo systemctl enable --now chronyd
                    sudo systemctl restart chronyd
            
                Validaci√≥n desde VM1 y VM2
                    üíª Desde VM1 (como root)
                    date
                        vie 08 ago 2025 23:16:12 -05
                    sudo systemctl status chronyd
                        ‚óè chronyd.service - NTP client/server
                        Loaded: loaded (/usr/lib/systemd/system/chronyd.service; enabled; preset: enabled)
                        Active: active (running) since Fri 2025-08-08 23:20:10 -05; 20s ago

‚ú®----------------------------------------------------------------------------------------------------‚ú®

## Paso 4: Actualizaci√≥n de sistema y servicios √∫tikes

    Actualizaci√≥n e Instalaci√≥n Inicial

    üß∞ Utilidades base instaladas en las dos VMs
        vim	        Editor de texto avanzado en terminal, ideal para modificar configuraciones.
        nano	    Editor de texto sencillo y f√°cil de usar desde consola.
        curl	    Realiza peticiones HTTP, HTTPS y otros protocolos desde la terminal.
        wget	    Descarga archivos desde la web v√≠a HTTP, HTTPS o FTP.
        tar	        Empaqueta y desempaqueta archivos .tar y comprimidos .tar.gz.
        unzip	    Descomprime archivos .zip.
        net-tools	Conjunto de herramientas cl√°sicas de red (ifconfig, netstat, etc.).
        bind-utils	Herramientas DNS como dig y nslookup para pruebas de resoluci√≥n de nombres.
        telnet	    Prueba conectividad en puertos espec√≠ficos.
        jq	        Procesa y formatea datos JSON, √∫til para APIs como Wazuh u OpenSearch.
        git	        Sistema de control de versiones para clonar, gestionar y actualizar repositorios.
        sysstat	    Incluye iostat y mpstat para monitorear CPU, disco y rendimiento del sistema.
        htop	    Monitor interactivo de procesos y uso de recursos en tiempo real.
        iftop	    Monitoriza el tr√°fico de red en tiempo real, mostrando IPs y puertos activos.

                Instalaci√≥n
                üíª # bash (VM 1 como root)
                    sudo dnf update -y
                    sudo dnf install epel-release -y
                    sudo dnf install -y \
                    vim nano \
                    curl wget \
                    tar unzip \
                    net-tools bind-utils telnet \
                    jq git \
                    sysstat htop iftop

                Validaci√≥n de instalaci√≥n
                    √öltima comprobaci√≥n de caducidad de metadatos hecha hace 0:20:43, el vie 08 ago 2025 23:30:11.
                    El paquete vim-enhanced-2:8.2.2637-22.el9_6.x86_64 ya est√° instalado.
                    El paquete nano-5.6.1-7.el9.x86_64 ya est√° instalado.
                    El paquete curl-7.76.1-31.el9_6.1.x86_64 ya est√° instalado.
                    El paquete wget-1.21.1-8.el9_4.x86_64 ya est√° instalado.
                    El paquete tar-2:1.34-7.el9.x86_64 ya est√° instalado.
                    El paquete unzip-6.0-58.el9_5.x86_64 ya est√° instalado.
                    El paquete net-tools-2.0-0.64.20160912git.el9.x86_64 ya est√° instalado.
                    El paquete bind-utils-32:9.16.23-31.el9_6.x86_64 ya est√° instalado.
                    El paquete telnet-1:0.17-85.el9.x86_64 ya est√° instalado.
                    El paquete jq-1.6-17.el9_6.2.x86_64 ya est√° instalado.
                    El paquete git-2.47.3-1.el9_6.x86_64 ya est√° instalado.
                    El paquete sysstat-12.5.4-9.el9.x86_64 ya est√° instalado.
                    El paquete htop-3.3.0-1.el9.x86_64 ya est√° instalado.
                    El paquete iftop-1.0-0.26.pre4.el9.x86_64 ya est√° instalado.
                    Dependencias resueltas.
                    Nada por hacer.
                    ¬°Listo!
